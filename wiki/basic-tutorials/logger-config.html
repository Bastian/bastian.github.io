<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Logger Configuration | Javacord</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon-96x96.png">
    <meta name="description" content="The Javacord website">
    <link rel="preload" href="/assets/css/0.styles.a1fb650d.css" as="style"><link rel="preload" href="/assets/js/app.ff18a720.js" as="script"><link rel="preload" href="/assets/js/2.794a2b38.js" as="script"><link rel="preload" href="/assets/js/20.0808a7b9.js" as="script"><link rel="prefetch" href="/assets/js/10.f7d479ab.js"><link rel="prefetch" href="/assets/js/11.1096c1db.js"><link rel="prefetch" href="/assets/js/12.56a8a015.js"><link rel="prefetch" href="/assets/js/13.b485f8a2.js"><link rel="prefetch" href="/assets/js/14.8303d07e.js"><link rel="prefetch" href="/assets/js/15.3c7cdeb1.js"><link rel="prefetch" href="/assets/js/16.d3093f40.js"><link rel="prefetch" href="/assets/js/17.e3d00990.js"><link rel="prefetch" href="/assets/js/18.e0bba375.js"><link rel="prefetch" href="/assets/js/19.c8be7ae6.js"><link rel="prefetch" href="/assets/js/21.8aba7b32.js"><link rel="prefetch" href="/assets/js/22.74941ef1.js"><link rel="prefetch" href="/assets/js/23.0c7d26dc.js"><link rel="prefetch" href="/assets/js/24.ada02605.js"><link rel="prefetch" href="/assets/js/25.7e1437ba.js"><link rel="prefetch" href="/assets/js/26.5744d686.js"><link rel="prefetch" href="/assets/js/27.ef356d50.js"><link rel="prefetch" href="/assets/js/28.6c91d99f.js"><link rel="prefetch" href="/assets/js/3.401d2623.js"><link rel="prefetch" href="/assets/js/4.92b27108.js"><link rel="prefetch" href="/assets/js/5.0e628205.js"><link rel="prefetch" href="/assets/js/6.0b629c73.js"><link rel="prefetch" href="/assets/js/7.e90e4683.js"><link rel="prefetch" href="/assets/js/8.7e29a1cc.js"><link rel="prefetch" href="/assets/js/9.adab85a9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a1fb650d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Javacord</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="https://docs.javacord.org/" target="_self" rel="" class="nav-link external">
  JavaDocs
  <!----></a></div><div class="nav-item"><a href="https://discord.gg/0qJ2jjyneLEgG7y3" target="_self" rel="" class="nav-link external">
  Discord Server
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="https://docs.javacord.org/" target="_self" rel="" class="nav-link external">
  JavaDocs
  <!----></a></div><div class="nav-item"><a href="https://discord.gg/0qJ2jjyneLEgG7y3" target="_self" rel="" class="nav-link external">
  Discord Server
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/getting-started/" class="sidebar-link">Intro</a></li><li><a href="/wiki/getting-started/download-installation.html" class="sidebar-link">Download / Installation</a></li><li><a href="/wiki/getting-started/creating-a-bot-account.html" class="sidebar-link">Creating a Bot Account</a></li><li><a href="/wiki/getting-started/writing-your-first-bot.html" class="sidebar-link">Writing your first bot</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Beginner IDE Setup</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Basic Tutorials</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/basic-tutorials/listeners.html" class="sidebar-link">Listeners</a></li><li><a href="/wiki/basic-tutorials/embeds.html" class="sidebar-link">Embeds</a></li><li><a href="/wiki/basic-tutorials/emojis-and-reactions.html" class="sidebar-link">Emojis and Reactions</a></li><li><a href="/wiki/basic-tutorials/message-builder.html" class="sidebar-link">Using the MessageBuilder</a></li><li><a href="/wiki/basic-tutorials/creating-entities.html" class="sidebar-link">Creating Channels, Invites, etc.</a></li><li><a href="/wiki/basic-tutorials/logger-config.html" class="active sidebar-link">Logger Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/basic-tutorials/logger-config.html#fallback-logger" class="sidebar-link">🥈 Fallback Logger</a></li><li class="sidebar-sub-header"><a href="/wiki/basic-tutorials/logger-config.html#using-a-proper-logging-framework" class="sidebar-link">🥇 Using a Proper Logging Framework</a></li></ul></li><li><a href="/wiki/basic-tutorials/glossary.html" class="sidebar-link">Glossary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced Topics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/advanced-topics/bot-lifecycle.html" class="sidebar-link">Bot Lifecycle</a></li><li><a href="/wiki/advanced-topics/entity-cache.html" class="sidebar-link">Entity Cache</a></li><li><a href="/wiki/advanced-topics/ratelimits.html" class="sidebar-link">Ratelimits</a></li><li><a href="/wiki/advanced-topics/sharding.html" class="sidebar-link">Sharding</a></li><li><a href="/wiki/advanced-topics/performance-tweaks.html" class="sidebar-link">Performance Tweaks</a></li><li><a href="/wiki/advanced-topics/proxies.html" class="sidebar-link">Proxies</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Essential Knowledge</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/essential-knowledge/lambdas.html" class="sidebar-link">Lambdas</a></li><li><a href="/wiki/essential-knowledge/optionals.html" class="sidebar-link">Optionals</a></li><li><a href="/wiki/essential-knowledge/completable-futures.html" class="sidebar-link">Completable Futures</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="logger-configuration"><a href="#logger-configuration" class="header-anchor">#</a> Logger Configuration</h1> <p>Logging is an important tool to keep track of what is going on in your application. Javacord uses the <a href="https://logging.apache.org/log4j/2.x/manual/api.html" target="_blank" rel="noopener noreferrer">Log4j 2 API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which allows you to use your favorite logging framework to log messages in your own code and have all logging messages end up in the same destination. In case you do not add your own logging framework, a fallback logger is used that logs to the console.<br>
If you want more control, add a proper logging framework that supports your needs and configure it accordingly. You can for example configure log messages on a per-class level, change log levels during runtime, or log to a file or database.</p> <h2 id="fallback-logger"><a href="#fallback-logger" class="header-anchor">#</a> 🥈 Fallback Logger</h2> <p>Javacord's fallback logger is a simple Log4j logger which always logs <code>INFO</code> level and higher. It allows you to enable <code>DEBUG</code> and <code>TRACE</code> logging manually. As log levels are hierarchical, enabling <code>TRACE</code> will also implicitly enable <code>DEBUG</code>, and disabling <code>DEBUG</code> will also implicitly disable <code>TRACE</code>.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Enable debug logging</span>
<span class="token class-name">FallbackLoggerConfiguration</span><span class="token punctuation">.</span><span class="token function">setDebug</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Enable trace logging</span>
<span class="token class-name">FallbackLoggerConfiguration</span><span class="token punctuation">.</span><span class="token function">setTrace</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Changing the log level of the fallback logger only affects newly created loggers. Pre-existing loggers will not have their log level changed. So if you want to configure the fallback logger, you should do this as one of the first actions in your bot code. If you want to change log levels during runtime, you should use a proper logging framework like Log4j 2 Core or another library that supports this.</p> <p>All fallback logger messages are printed to the standard output stream (<code>System.out</code>) and thus usually to your console. If you want to log to a file, database, or anything else, you should consider using a proper logging framework which allows you to configure this behavior.</p> <p>This is how a log line from the fallback logger will look like:</p> <div class="language-log extra-class"><pre class="language-text"><code>&lt;time with date            &gt;&lt;level&gt;&lt;logger name, usually the logging class              &gt; &lt;message            &gt; &lt;the thread context, here the shard number&gt;
2018-08-03 20:00:06.080+0200 DEBUG org.javacord.core.util.gateway.DiscordWebSocketAdapter Received HELLO packet {shard=0}
</code></pre></div><h2 id="using-a-proper-logging-framework"><a href="#using-a-proper-logging-framework" class="header-anchor">#</a> 🥇 Using a Proper Logging Framework</h2> <h3 id="adding-a-logging-framework"><a href="#adding-a-logging-framework" class="header-anchor">#</a> Adding a Logging Framework</h3> <p>Adding a logging framework of your choice is very straightforward. You can just add it as a dependency, and it will be detected by Log4j automatically. The following example adds Log4j 2 using Gradle:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span> runtimeOnly <span class="token string">'org.apache.logging.log4j:log4j-core:2.11.0'</span> <span class="token punctuation">}</span>
</code></pre></div><p>You can also use an SLF4J compatible logging framework using <code>log4j-to-slf4j</code>. The following example adds Logback Classic using Gradle:</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    runtimeOnly <span class="token string">'org.apache.logging.log4j:log4j-to-slf4j:2.11.0'</span>
    runtimeOnly <span class="token string">'ch.qos.logback:logback-classic:1.2.3'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="configure-your-logging-framework"><a href="#configure-your-logging-framework" class="header-anchor">#</a> Configure Your Logging Framework</h3> <ul><li><strong>Log4j 2</strong>: <a href="https://logging.apache.org/log4j/2.x/manual/configuration.html" target="_blank" rel="noopener noreferrer">Log4j configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><strong>Logback Classic</strong>: <a href="https://logback.qos.ch/manual/configuration.html" target="_blank" rel="noopener noreferrer">Logback configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="logging-the-relevant-shard"><a href="#logging-the-relevant-shard" class="header-anchor">#</a> Logging the Relevant Shard</h3> <p>Javacord adds the relevant shard to each log message. The facility that stores this information has a different name depending on which logging framework you use. For Log4j 2, this is called Thread Context Map and can be added in a pattern layout with <code>%X{shard}</code>, or you can add the whole thread context map by using <code>%X</code>. For Logback Classic, it is called MDC and can be added with the same pattern expressions as for Log4j.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wiki/basic-tutorials/creating-entities.html" class="prev">
        Creating Channels, Invites, etc.
      </a></span> <span class="next"><a href="/wiki/basic-tutorials/glossary.html">
        Glossary
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ff18a720.js" defer></script><script src="/assets/js/2.794a2b38.js" defer></script><script src="/assets/js/20.0808a7b9.js" defer></script>
  </body>
</html>
